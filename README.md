# Vault demonstration (Spring Boot)

This repository is dedicated to the talk: **Be secret like a ninja with Vault Hashicorp** (Spring Boot Edition).

**Disclaimer**: The repository is here for demonstration purpose. Meaning: No best practice and a lot of review.

For the demonstration, we will based on a basic application using the following stack:

* Spring Boot (Java)
* MYSQL
* HashiCorp Vault

## Steps ? Which steps ?

To better understand the integration process, we have split the execution into several steps.

### Step 0: Infrastructure

In this step, we start the necessary infrastructure (Vault and MySQL) using Docker Compose.

See more on the [step0/run.sh](./step0/run.sh).

### Step 1: Configuration (Terraform)

In this step, we use Terraform to configure Vault. This includes enabling the AppRole authentication method, creating policies, and setting up the database secret engine.

See more on the [step1/run.sh](./step1/run.sh).

### Step 2: Extract Credentials

In this step, we retrieve the `RoleID` and `SecretID` generated by Terraform. These are the "keys" our application needs to login to Vault.

See more on the [step2/run.sh](./step2/run.sh).

### Step 3: Verification

In this step, we simply verify that we have successfully retrieved the credentials before trying to use them.

See more on the [step3/run.sh](./step3/run.sh).

### Step 4: Run Application (AppRole)

In this final step, we run the Spring Boot application. It uses the credentials from Step 2 to authenticate with Vault, fetch the database credentials, and connect to MySQL.

See more on the [step4/run.sh](./step4/run.sh).

### Step 4b (bonus): Coming Soon

Future step for alternative authentication methods or advanced usage (e.g., Vault Agent).

## Contact

You see something wrong ? You want extra information or more ?

Contact me: <hatem.daghbouj@example.com>
